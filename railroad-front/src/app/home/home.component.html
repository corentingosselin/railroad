<div class="p-5 flex flex-column pt-7">
  <h1 class="text-bold text-2xl">Offrez vous une carte privilège</h1>

  <div class="flex flex-wrap gap-3 mb-5">


    @for (item of (privilegeCards$ | async); track $index) {

    <div class="privilege-card w-20rem">
      <i class="absolute material-icons wallpaper">account_balance_wallet</i>
      <h3 class="border-bottom-1 mb-2 pb-3 w-full mt-1">{{ item.name }}</h3>
      <i
        class="material-icons absolute top-0 right-0 m-3 toggle"
        onClick="this.parentNode.classList.toggle('active')"
        >image</i
      >
      <div class="w-full h-full content-container relative">
        <img
          class="absolute h-full mx-auto"
          src="https://pbs.twimg.com/media/GJHBfkpXYAAtd15?format=jpg&name=medium"
          alt=""
        />
        <p>{{ item.description }}</p>
        <p>{{ item.price }}</p>
        <p>{{ item.maxSupply }}</p>
        <p>{{ item.discountRate }}</p>
      </div>
    </div>

    } @empty {
    <p>Aucune carte privilège disponible</p>
    }
  </div>

  <h1 class="text-bold text-2xl">Mes cartes privilèges</h1>

  <div class="flex flex-wrap gap-3 mb-5">
    @for (item of (myPrivilegeCards$ | async); track $index) {

    <div class="privilege-card w-12rem">
      <i class="absolute material-icons wallpaper">book</i>
      <h3 class="border-bottom-1 mb-2 pb-3 w-full mt-1">{{ item.name }}</h3>
      <p>{{ item.description }}</p>
      <p>{{ item.discountRate }}</p>
    </div>

    } @empty {
    <p>Vous n'avez aucune carte privilège</p>
    }
  </div>

  <h1 class="text-bold text-2xl">Mes tickets</h1>

  @for (item of (myTickets$ | async); track $index) {

  <div class="ticket card mr-auto relative">
    <i class="absolute material-icons wallpaper">receipt</i>
    <h3 class="mt-0">Ticket: {{ item.id }}</h3>
    <p>Prix d'achat: {{ item.pricePaid }}</p>
    <p>Promotion: {{ item.discountApplied }}</p>
  </div>

  } @empty {
  <p>Vous n'avez aucun ticket</p>
  }
  <button class="mt-3 h-2rem mr-auto" (click)="buyTicket()">
    Acheter un ticket
  </button>
</div>
